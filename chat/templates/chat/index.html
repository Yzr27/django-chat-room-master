<!-- 允许用户输入并进入聊天室 -->
{% extends "base.html" %}
{% block title %}聊天室{% endblock %}
{% block content %}
<div class="form-group">
    <label for="room-name-input">请输入你想进入的聊天室</label>
    <input type="text" class="form-control" id="room-name-input">
</div>
    <input id="room-name-submit" class="btn btn-success" type="button" value="Enter" />
{% endblock %}


{% block js %}
<script>
    $("#room-name-input").focus();
    <!-- 允许用户通过按回车键来提交输入 -->
    $("#room-name-input").keyup(function(e){
      if (e.keyCode === 13) {  // enter, return
            $("#room-name-submit").click();
        }
    });

    $("#room-name-submit").click(function() {
      var room_name = $("#room-name-input").val();
      window.location.pathname = '/chat/' + room_name + '/';
    });

</script>
{% endblock %}